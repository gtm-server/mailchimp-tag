___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Mailchimp",
  "brand": {
    "id": "brand_dummy",
    "displayName": "Stape",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Sends events to the Mailchimp",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "RADIO",
    "name": "type",
    "displayName": "Type",
    "radioItems": [
      {
        "value": "trackEvent",
        "displayValue": "Track event"
      },
      {
        "value": "createOrUpdateContact",
        "displayValue": "Create or update contact"
      },
      {
        "value": "createOrUpdateContactTrackEvent",
        "displayValue": "Create or update contact and track event"
      }
    ],
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "emailHashed",
    "displayName": "Email hashed with MD5",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Mailchimp Marketing API uses the MD5 hash of the lowercase version of the contact’s email address for API calls. \u003ca href\u003d\"https://mailchimp.com/developer/marketing/docs/methods-parameters/#path-parameters\" target\u003d\"_blank\"\u003e You can learn more about that here\u003c/a\u003e."
  },
  {
    "type": "TEXT",
    "name": "listId",
    "displayName": "List ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "The unique ID of the list. \u003ca href\u003d\"https://mailchimp.com/help/find-audience-id/\" target\u003d\"_blank\"\u003eFollow this guide on how to find it.\u003c/a\u003e"
  },
  {
    "type": "TEXT",
    "name": "apiKey",
    "displayName": "API Key",
    "simpleValueType": true,
    "help": "To obtain API key please \u003ca href\u003d\"https://mailchimp.com/developer/marketing/guides/quick-start/#generate-your-api-key\" target\u003d\"_blank\"\u003efollow this instruction\u003c/a\u003e.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "contactDataGroup",
    "displayName": "Contact information",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "TEXT",
        "name": "email",
        "displayName": "Email",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "mergeFields",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Name",
            "name": "field",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "help": "More info about merge fields can be found \u003ca href\u003d\"https://mailchimp.com/help/getting-started-with-merge-tags/\" target\u003d\"_blank\"\u003ehere\u003c/a\u003e.",
        "displayName": "Merge Fields"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "type",
        "paramValue": "createOrUpdateContact",
        "type": "EQUALS"
      },
      {
        "paramName": "type",
        "paramValue": "createOrUpdateContactTrackEvent",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "eventDataGroup",
    "displayName": "Event information",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "TEXT",
        "name": "eventName",
        "displayName": "Event Name",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "eventProperties",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Name",
            "name": "field",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "help": "More info about event properties can be found \u003ca href\u003d\"https://mailchimp.com/help/use-events-behavioral-targeting/#About_events\" target\u003d\"_blank\"\u003ehere\u003c/a\u003e.",
        "displayName": "Event Properties"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "type",
        "paramValue": "trackEvent",
        "type": "EQUALS"
      },
      {
        "paramName": "type",
        "paramValue": "createOrUpdateContactTrackEvent",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_SERVER___

const getRemoteAddress = require('getRemoteAddress');
const sendHttpRequest = require('sendHttpRequest');
const encodeUriComponent = require('encodeUriComponent');
const JSON = require('JSON');

const logToConsole = require('logToConsole');
const getContainerVersion = require('getContainerVersion');
const containerVersion = getContainerVersion();
const isDebug = containerVersion.debugMode;

let apiKeyData = data.apiKey.split('-');

if (!apiKeyData[1]) {
  data.gtmOnFailure();
} else {
  if (data.type === 'createOrUpdateContact' || data.type === 'createOrUpdateContactTrackEvent') {
    let url = 'https://' + encodeUriComponent(apiKeyData[1]) + '.api.mailchimp.com/3.0/lists/' + encodeUriComponent(data.listId) + '/members/'+ encodeUriComponent(data.emailHashed);

    let bodyData = {
      "email_address": data.email,
      "status_if_new": 'subscribed',
      "ip_signup": getRemoteAddress(),
      "merge_fields": formatFields(data.mergeFields)
    };

    if (isDebug) {
      logToConsole('Mailchimp createOrUpdateContact data: ', bodyData);
    }

    sendHttpRequest(url, (statusCode, headers, body) => {
      if (statusCode >= 200 && statusCode < 300) {
        if (data.type === 'createOrUpdateContactTrackEvent') {
          sendEventRequest();
        } else {
          data.gtmOnSuccess();
        }
      } else {
        data.gtmOnFailure();
      }
    }, {headers: {'Authorization': 'Bearer '+data.apiKey}, method: 'PUT', timeout: 3500}, JSON.stringify(bodyData));
  } else {
    sendEventRequest();
  }
}

function sendEventRequest()
{
  let url = 'https://' + encodeUriComponent(apiKeyData[1]) + '.api.mailchimp.com/3.0/lists/' + encodeUriComponent(data.listId) + '/members/' + encodeUriComponent(data.emailHashed) + '/events';

  let bodyData = {
    "name": data.eventName,
    "properties": formatFields(data.eventProperties)
  };

  if (isDebug) {
    logToConsole('Mailchimp trackEvent data: ', bodyData);
  }

  sendHttpRequest(url, (statusCode, headers, body) => {
    if (statusCode >= 200 && statusCode < 300) {
      data.gtmOnSuccess();
    } else {
      data.gtmOnFailure();
    }
  }, {headers: {'Authorization': 'Bearer '+data.apiKey}, method: 'POST', timeout: 3500}, JSON.stringify(bodyData));
}

function formatFields(mergeFields) {
  let mergeFieldsResult = {};

  for (let mergeFieldsKey in mergeFields) {
    mergeFieldsResult[mergeFields[mergeFieldsKey].field] = mergeFields[mergeFieldsKey].value;
  }

  return mergeFieldsResult;const getRemoteAddress = require('getRemoteAddress');
  const sendHttpRequest = require('sendHttpRequest');
  const encodeUriComponent = require('encodeUriComponent');
  const JSON = require('JSON');

  const logToConsole = require('logToConsole');
  const getContainerVersion = require('getContainerVersion');
  const containerVersion = getContainerVersion();
  const isDebug = containerVersion.debugMode;

  let apiKeyData = data.apiKey.split('-');

  if (!apiKeyData[1]) {
    data.gtmOnFailure();
  } else {
    if (data.type === 'createOrUpdateContact' || data.type === 'createOrUpdateContactTrackEvent') {
      let url = 'https://' + encodeUriComponent(apiKeyData[1]) + '.api.mailchimp.com/3.0/lists/' + encodeUriComponent(data.listId) + '/members/'+ encodeUriComponent(data.emailHashed);

      let bodyData = {
        "email_address": data.email,
        "status_if_new": 'subscribed',
        "ip_signup": getRemoteAddress(),
        "merge_fields": formatFields(data.mergeFields)
      };

      if (isDebug) {
        logToConsole('Mailchimp createOrUpdateContact data: ', bodyData);
      }

      sendHttpRequest(url, (statusCode, headers, body) => {
        if (statusCode >= 200 && statusCode < 300) {
          if (data.type === 'createOrUpdateContactTrackEvent') {
            sendEventRequest();
          } else {
            data.gtmOnSuccess();
          }
        } else {
          data.gtmOnFailure();
        }
      }, {headers: {'Authorization': 'Bearer '+data.apiKey}, method: 'PUT', timeout: 3500}, JSON.stringify(bodyData));
    } else {
      sendEventRequest();
    }
  }

  function sendEventRequest()
  {
    let url = 'https://' + encodeUriComponent(apiKeyData[1]) + '.api.mailchimp.com/3.0/lists/' + encodeUriComponent(data.listId) + '/members/' + encodeUriComponent(data.emailHashed) + '/events';

    let bodyData = {
      "name": data.eventName,
      "properties": formatFields(data.eventProperties)
    };

    if (isDebug) {
      logToConsole('Mailchimp trackEvent data: ', bodyData);
    }

    sendHttpRequest(url, (statusCode, headers, body) => {
      if (statusCode >= 200 && statusCode < 300) {
        data.gtmOnSuccess();
      } else {
        data.gtmOnFailure();
      }
    }, {headers: {'Authorization': 'Bearer '+data.apiKey}, method: 'POST', timeout: 3500}, JSON.stringify(bodyData));
  }

  function formatFields(mergeFields) {
    let mergeFieldsResult = {};

    for (let mergeFieldsKey in mergeFields) {
      mergeFieldsResult[mergeFields[mergeFieldsKey].field] = mergeFields[mergeFieldsKey].value;
    }

    return mergeFieldsResult;
  }

}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_http",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.api.mailchimp.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_request",
        "versionId": "1"
      },
      "param": [
        {
          "key": "remoteAddressAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "headersAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "requestAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "headerAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queryParameterAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 02/05/2021, 09:39:23
